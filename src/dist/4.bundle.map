{"version":3,"sources":["webpack:///./src/app/+uploads/uploads.module.ts","webpack:///./src/app/+uploads/files.service.ts","webpack:///./src/app/+uploads/file-upload/file-upload.component.ts","webpack:///./src/app/+uploads/files/files.component.ts","webpack:///./src/app/shared/long-press.directive.ts","webpack:///./src/app/+uploads/file-upload/file-upload.component.css","webpack:///./src/app/+uploads/files/files.component.css","webpack:///./src/app/+uploads/file-upload/file-upload.component.html","webpack:///./src/app/+uploads/files/files.component.html"],"names":[],"mappings":"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","file":"4.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { MaterializeModule } from \"angular2-materialize/src\";\n\nimport { FilesService } from './files.service';\n\nimport { FileUploadComponent } from './file-upload/file-upload.component';\nimport { FilesComponent } from './files/files.component';\nimport { FileUploadModule } from 'ng2-file-upload';\nimport { LongPress } from '../shared/long-press.directive';\n\nconst UPLOADS_ROUTES: Routes = [\n  { path: '', component: FilesComponent },\n  { path: 'file', component: FileUploadComponent }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(UPLOADS_ROUTES),\n    ReactiveFormsModule, FormsModule,\n    MaterializeModule,\n    FileUploadModule\n   // FileUploader\n  ],\n  declarations: [FileUploadComponent, FilesComponent, LongPress],\n  providers: [FilesService],\n  exports: [FilesComponent]\n})\nexport class UploadsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/app/+uploads/uploads.module.ts","import { Injectable } from '@angular/core';\nimport { Http, Response, Headers, RequestOptions } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\n\n@Injectable()\nexport class FilesService {\n\n  private _baseUrl: string = \"/api/v1/uploads\";\n\n  constructor(private _http: Http) { }\n\n  get() : Observable<any[]> {\n\t\treturn this._http.get(this._baseUrl)\n\t\t.map( (res: Response) => res.json() )\n\t\t.catch( (error: any) => Observable.throw(error.json().error || \"Server error\"));\n\t}\n\n  remove(id: string) : Observable<any> {\n\t\tlet headers = new Headers({'Content-type': 'application/json'});\n\t\tlet options = new RequestOptions({headers: headers});\n\t\t\n\t\treturn this._http.delete(`${this._baseUrl}/${id}`)\n\t\t\t\t.map((res: Response) => res.json())\n\t\t\t\t.catch((error: any) => Observable.throw(error.json().error || 'Server error'));\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/+uploads/files.service.ts","import { Component, OnInit } from '@angular/core';\nimport { FileUploader } from 'ng2-file-upload';\n\nimport { ToolbarService } from '../../shared/toolbar.service';\n\nconst UPLOAD_PATH = '/api/v1/uploads/';\n\n@Component({\n  selector: 'app-file-upload',\n  templateUrl: './file-upload.component.html',\n  styleUrls: ['./file-upload.component.css']\n})\nexport class FileUploadComponent implements OnInit {\n  public uploader: FileUploader = new FileUploader({url: UPLOAD_PATH});\n  public signature: string;\n\n  constructor(\n    private _toolbar: ToolbarService\n  ) { }\n\n  upload() : void {\n    this.uploader.onBuildItemForm = (item, form) => {\n      form.append(\"signature\", this.signature);\n    };\n\n    this.uploader.uploadAll();\n  }\n\n  ngOnInit() {\n\n      this._toolbar.change({\n        title: \"Загрузить файл\"\n      });\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/+uploads/file-upload/file-upload.component.ts","import { Component, OnInit, EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { FilesService } from '../files.service';\n\nimport { ToolbarService } from '../../shared/toolbar.service';\nimport { ToastService } from '../../shared/toast.service';\nimport { FileSelectService } from '../../shared/file-select.service';\nimport { PaginationService } from '../../shared/pagination.service';\nimport { MaterializeAction } from 'angular2-materialize/src';\n\nconst UPLOAD_PATH = '/api/v1/uploads/';\n\n@Component({\n  selector: 'app-files',\n  templateUrl: './files.component.html',\n  styleUrls: ['./files.component.css']\n})\nexport class FilesComponent implements OnInit {\n  public files: any[];\n  public currentItem: any;\n  public modalDeleteActions = new EventEmitter<string|MaterializeAction>();\n\n  constructor(\n    private _router: Router,\n    private _toastService: ToastService,\n    private _toolbar: ToolbarService,\n    private _pager: PaginationService,\n    private _filesService: FilesService,\n    public fileSelectService: FileSelectService\n  ) { }\n\n  ngOnInit() {\n    this._pager.clear();\n    \n    this._toolbar.change({\n      title: \"Менеджер файлов\",\n      name: \"uploads\",\n      actions: {\n        add: () => this._router.navigate(['/uploads/file']),\n        done: {\n          ok: () => {\n            this.fileSelectService.stop();\n            this.fileSelectService.action();\n          },\n          close: () => this.toggleSelectMode()\n        }\n      },\n      actionsPosition: {\n        extend: ['add']\n      }\n    });\n\n    if(!this.fileSelectService.selectMode) {\n      this.fileSelectService.clear();\n    } else {\n      this._toolbar.setMode('done');\n    }\n\n    this._filesService.get()\n      .subscribe((files) => {\n        this.files = files;\n        this.files.map((file) => {\n          this.fileSelectService.replace(file);\n        });\n      });\n  }\n\n  openDeleteModal(item): void {\n    this.currentItem = item;\n    this.modalDeleteActions.emit({action:\"modal\",params:['open']});\n  }\n\n  closeDeleteModal(): void {\n    this.modalDeleteActions.emit({action:\"modal\",params:['close']});\n  }\n\n  selectItem(item): void {\n    if(this.fileSelectService.selectMode) {\n      this.fileSelectService.add(item);\n    }\n  }\n\n  toggleSelectMode() : void {\n    this.fileSelectService.toggle();\n    \n    if(this.fileSelectService.selectMode) {\n      this._toolbar.setMode('done');\n    } else {\n      this._toolbar.setMode('default');\n      this.fileSelectService.clear();\n    }\n  }\n\n  startSelectMode(): void {\n    if(!this.fileSelectService.selectMode) {\n      this.fileSelectService.singleMode = false;\n      this.fileSelectService.toggle();\n      this._toolbar.setMode('done');\n    }\n  }\n\n  return(): void {\n    this.fileSelectService.returnRoute();\n  }\n\n  deleteItem(item): void {\n    let self = this;\n\n    this._filesService.remove(item._id)\n      .subscribe((data: any) => {\n        if(data.status == 'ok') {\n          this.files.find((file, index) => {\n            if(item._id == file._id) {\n              self.currentItem = null;\n              self.files.splice(index, 1);\n              return true;\n            }\n          });\n          this._toastService.toast(\"Файл удален\");\n        }\n      });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/+uploads/files/files.component.ts","import {\r\n  Directive,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostBinding,\r\n  HostListener\r\n} from '@angular/core';\r\n\r\n@Directive({ selector: '[long-press]' })\r\nexport class LongPress {\r\n\r\n  @Input() duration: number = 500;\r\n\r\n  @Output() onLongPress: EventEmitter<any> = new EventEmitter();\r\n  @Output() onLongPressing: EventEmitter<any> = new EventEmitter();\r\n  @Output() onLongPressEnd: EventEmitter<any> = new EventEmitter();\r\n\r\n  private pressing: boolean;\r\n  private longPressing: boolean;\r\n  private timeout: any;\r\n  private mouseX: number = 0;\r\n  private mouseY: number = 0;\r\n\r\n  @HostBinding('class.press')\r\n  get press() { return this.pressing; }\r\n\r\n  @HostBinding('class.longpress')\r\n  get longPress() { return this.longPressing; }\r\n\r\n  @HostListener('mousedown', ['$event'])\r\n  onMouseDown(event) {\r\n    // don't do right/middle clicks\r\n    if(event.which !== 1) return;\r\n\r\n    this.mouseX = event.clientX;\r\n    this.mouseY = event.clientY;\r\n\r\n    this.pressing = true;\r\n    this.longPressing = false;\r\n\r\n    this.timeout = setTimeout(() => {\r\n      this.longPressing = true;\r\n      this.onLongPress.emit(event);\r\n      this.loop(event);\r\n    }, this.duration);\r\n\r\n    this.loop(event);\r\n  }\r\n\r\n  @HostListener('mousemove', ['$event'])\r\n  onMouseMove(event) {\r\n    if(this.pressing && !this.longPressing) {\r\n      const xThres = (event.clientX - this.mouseX) > 10;\r\n      const yThres = (event.clientY - this.mouseY) > 10;\r\n      if(xThres || yThres) {\r\n        this.endPress();\r\n      }\r\n    }\r\n  }\r\n\r\n  loop(event) {\r\n    if(this.longPressing) {\r\n      this.timeout = setTimeout(() => {\r\n        this.onLongPressing.emit(event);\r\n        this.loop(event);\r\n      }, 50);\r\n    }\r\n  }\r\n\r\n  endPress() {\r\n    clearTimeout(this.timeout);\r\n    this.longPressing = false;\r\n    this.pressing = false;\r\n    this.onLongPressEnd.emit(true);\r\n  }\r\n\r\n  @HostListener('mouseup')\r\n  onMouseUp() { this.endPress(); }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/long-press.directive.ts","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+uploads/file-upload/file-upload.component.css\n// module id = 1081\n// module chunks = 4","module.exports = \".card.selected {\\r\\n    background: #e2ffe2;\\r\\n    -webkit-transition: box-shadow .25s;\\r\\n    transition: box-shadow .25s;\\r\\n    box-shadow: 0;\\r\\n}\\r\\n\\r\\n.fix-right {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n    top: 10px;\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+uploads/files/files.component.css\n// module id = 1082\n// module chunks = 4","module.exports = \"<div class=\\\"form-container row\\\">\\n    <div class=\\\"input-field col s12\\\">\\n        <input id=\\\"signatureField\\\" type=\\\"text\\\" name=\\\"signature\\\" [(ngModel)] = \\\"signature\\\">\\n        <label for=\\\"signatureField\\\">Подпись</label>\\n    </div>\\n    <div class=\\\"file-field input-field col s12\\\">\\n        <div class=\\\"btn\\\">\\n            <span>Выбрать</span>\\n            <input type=\\\"file\\\" name=\\\"image\\\" ng2FileSelect [uploader]=\\\"uploader\\\" multiple />\\n        </div>\\n        <div class=\\\"file-path-wrapper\\\">\\n            <input class=\\\"file-path validate\\\" type=\\\"text\\\" placeholder=\\\"Выберите один или несколько файлов\\\">\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col s12\\\">\\n        <h3>Готовы к загрузке</h3>\\n        <p>Количество: {{ uploader?.queue?.length }}</p>\\n\\n        <table class=\\\"table\\\">\\n            <thead>\\n            <tr>\\n                <th width=\\\"50%\\\">Наименование</th>\\n                <th>Размер</th>\\n                <th>Прогресс</th>\\n                <th>Статус</th>\\n                <th>Действия</th>\\n            </tr>\\n            </thead>\\n            <tbody>\\n            <tr *ngFor=\\\"let item of uploader.queue\\\">\\n                <td><strong>{{ item?.file?.name }}</strong></td>\\n                <td *ngIf=\\\"uploader.isHTML5\\\" nowrap>{{ item?.file?.size/1024/1024 | number:'.2' }} MB</td>\\n                <td *ngIf=\\\"uploader.isHTML5\\\">\\n                    <div class=\\\"progress\\\" style=\\\"margin-bottom: 0;\\\">\\n                        <div class=\\\"determinate\\\" [ngStyle]=\\\"{ 'width': item.progress + '%' }\\\"></div>\\n                    </div>\\n                </td>\\n                <td class=\\\"text-center\\\">\\n                    <span *ngIf=\\\"item.isSuccess\\\"><i class=\\\"glyphicon glyphicon-ok\\\"></i></span>\\n                    <span *ngIf=\\\"item.isCancel\\\"><i class=\\\"glyphicon glyphicon-ban-circle\\\"></i></span>\\n                    <span *ngIf=\\\"item.isError\\\"><i class=\\\"glyphicon glyphicon-remove\\\"></i></span>\\n                </td>\\n                <td nowrap>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-success btn-xs\\\"\\n                            (click)=\\\"item.upload()\\\" [disabled]=\\\"item.isReady || item.isUploading || item.isSuccess\\\">\\n                        <span class=\\\"glyphicon glyphicon-upload\\\"></span> Загрузить\\n                    </button>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-warning btn-xs\\\"\\n                            (click)=\\\"item.cancel()\\\" [disabled]=\\\"!item.isUploading\\\">\\n                        <span class=\\\"glyphicon glyphicon-ban-circle\\\"></span> Отменить\\n                    </button>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-danger btn-xs\\\"\\n                            (click)=\\\"item.remove()\\\">\\n                        <span class=\\\"glyphicon glyphicon-trash\\\"></span> Удалить\\n                    </button>\\n                </td>\\n            </tr>\\n            </tbody>\\n        </table>\\n\\n        <div>\\n            <div>\\n                Прогресс загрузки:\\n                <div class=\\\"progress\\\">\\n                    <div class=\\\"determinate\\\" [ngStyle]=\\\"{ 'width': uploader.progress + '%' }\\\"></div>\\n                </div>\\n            </div>\\n            <button type=\\\"button\\\" class=\\\"btn btn-success btn-s\\\"\\n                    (click)=\\\"upload()\\\" [disabled]=\\\"!uploader.getNotUploadedItems().length\\\">\\n                <span class=\\\"glyphicon glyphicon-upload\\\"></span> Загрузить все\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-warning btn-s\\\"\\n                    (click)=\\\"uploader.cancelAll()\\\" [disabled]=\\\"!uploader.isUploading\\\">\\n                <span class=\\\"glyphicon glyphicon-ban-circle\\\"></span> Отменить все\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-danger btn-s\\\"\\n                    (click)=\\\"uploader.clearQueue()\\\" [disabled]=\\\"!uploader.queue.length\\\">\\n                <span class=\\\"glyphicon glyphicon-trash\\\"></span> Удалить все\\n            </button>\\n        </div>\\n    </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+uploads/file-upload/file-upload.component.html\n// module id = 1096\n// module chunks = 4","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col s6 m3 l2\\\" *ngFor=\\\"let file of files\\\">\\n    <!--<div class=\\\"card horizontal hoverable\\\" long-press (onLongPress)=\\\"toggleSelectMode()\\\" (click)=\\\"selectItem(file)\\\" [ngClass]=\\\"{'selected': file.check}\\\">\\n      <div class=\\\"card-image valign-wrapper\\\">\\n        <img class=\\\"valign center-align\\\" [src]=\\\"'/api/v1/uploads/thumbs/' + file.filename\\\">\\n      </div>\\n      <div class=\\\"card-stacked\\\">\\n        <div class=\\\"fix-right\\\" *ngIf=\\\"file.check\\\"><i class=\\\"material-icons\\\">done</i></div>\\n        <div class=\\\"card-content\\\">\\n          <p>{{file.signature}}</p>\\n        </div>\\n        <div class=\\\"card-action\\\">\\n          <a (click)=\\\"openDeleteModal(file)\\\">Удалить</a>\\n        </div>\\n      </div>\\n    </div>-->\\n    <div class=\\\"card hoverable\\\" long-press (onLongPress)=\\\"startSelectMode()\\\" (click)=\\\"selectItem(file)\\\" [ngClass]=\\\"{'selected': file.check}\\\">\\n      <div class=\\\"card-image\\\">\\n        <img [src]=\\\"'/api/v1/uploads/thumbs/' + file.filename\\\">\\n      </div>\\n      <div class=\\\"card-content\\\">\\n         <p class=\\\"truncate\\\">{{file.signature}}</p>\\n      </div>\\n      <div class=\\\"card-action\\\">\\n        <div class=\\\"fix-right\\\" *ngIf=\\\"file.check\\\"><i class=\\\"material-icons\\\">done</i></div>\\n        <a (click)=\\\"openDeleteModal(file)\\\">Удалить</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<!-- Delete Modal Structure -->\\n<div class=\\\"modal bottom-sheet\\\" materialize=\\\"modal\\\" [materializeParams]=\\\"[{dismissible: false}]\\\" [materializeActions]=\\\"modalDeleteActions\\\">\\n  <div class=\\\"modal-content\\\">\\n    <h4>Удалить файл</h4>\\n    <p *ngIf=\\\"currentItem\\\">Вы хотите удалить файл?</p>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button class=\\\"waves-effect waves-green btn-flat\\\" (click)=\\\"closeDeleteModal()\\\">Отменить</button>\\n    <button class=\\\"modal-action modal-close waves-effect waves-green btn\\\" (click)=\\\"deleteItem(currentItem)\\\">Согласен</button>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/+uploads/files/files.component.html\n// module id = 1097\n// module chunks = 4"],"sourceRoot":""}